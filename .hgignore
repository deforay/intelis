##################################
# .hgignore â€” Project Ignore List
##################################

########## [Glob Rules] ##########
syntax: glob

# Configs (except distribution templates)
!configs/config.*.dist.php
configs/config.*.php
configs/*.png
configs/*.jpg
secret-key.txt
rector.php
temp.ini
key.storage
.env

# System & OS files
*.DS_Store
*.DS_Store.orig
.user.ini
*.swp

# IDE/editor files
.vscode/
.idea/

# Logs, DBs, runtime state
*.log
*error_log
*.pid
*.orig
*.db
*.lock
.cron_heartbeat

# Node & Composer dependencies
vendor/
**/node_modules/

# Dont track these directories
cache/
logs/
audit-trail/
metadata/

# Git-related (but allow .github directory)
.gitattributes
.gitignore

########## [Regexp Rules] ##########
syntax: regexp

# Git directory at root only (not .github)
^\.git/

# Ignore everything except index.php or .htaccess in specific folders
^public/uploads/(?!index\.php|\.htaccess).*
^public/temporary/(?!index\.php|\.htaccess).*

# var directory (allow .hgkeep and .htaccess sentinels)
^var/(?!.*\.hgkeep$)(?!.*\.htaccess$).*

^docker/mysql/data/(?!\.htaccess).*
^interop/dhis2/examples/(?!index\.php).*

# Backups - ignore contents but allow .hgkeep
^backups/db/(?!\.hgkeep).*
^backups/config/(?!\.hgkeep).*
^backups/(?!db/|config/|index\.php).*
^backup/(?!index\.php).*

# DDEV-specific
^\.ddev/db_snapshots/
^\.ddev/sequelpro/
^\.ddev/commands/.*\.log$
^\.ddev/import-db/
^\.ddev/import-files/
